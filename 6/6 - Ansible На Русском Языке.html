<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:NSimSun;
	panose-1:2 1 6 9 3 1 1 1 1 1;}
@font-face
	{font-family:"\@NSimSun";}
@font-face
	{font-family:"Liberation Sans";}
@font-face
	{font-family:"Noto Sans CJK SC";}
@font-face
	{font-family:"Liberation Serif";}
@font-face
	{font-family:"Liberation Mono";}
@font-face
	{font-family:OpenSymbol;}
@font-face
	{font-family:"Noto Serif CJK SC";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Lohit Devanagari";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Noto Sans Mono CJK SC";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	punctuation-wrap:simple;
	font-size:12.0pt;
	font-family:"Liberation Serif",sans-serif;}
h1
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	page-break-after:avoid;
	punctuation-wrap:simple;
	font-size:24.0pt;
	font-family:"Liberation Serif",sans-serif;}
h2
	{margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	text-indent:0in;
	page-break-after:avoid;
	punctuation-wrap:simple;
	font-size:18.0pt;
	font-family:"Liberation Serif",sans-serif;}
h3
	{margin-top:7.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	page-break-after:avoid;
	punctuation-wrap:simple;
	font-size:14.0pt;
	font-family:"Liberation Serif",sans-serif;}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	punctuation-wrap:simple;
	font-size:12.0pt;
	font-family:"Liberation Serif",sans-serif;
	font-style:italic;}
p.MsoList, li.MsoList, div.MsoList
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:7.0pt;
	margin-left:0in;
	line-height:115%;
	punctuation-wrap:simple;
	font-size:12.0pt;
	font-family:"Liberation Serif",sans-serif;}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:7.0pt;
	margin-left:0in;
	line-height:115%;
	punctuation-wrap:simple;
	font-size:12.0pt;
	font-family:"Liberation Serif",sans-serif;}
a:link, span.MsoHyperlink
	{color:navy;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:#954F72;
	text-decoration:underline;}
span.a
	{mso-style-name:"Исходный текст";
	font-family:"Liberation Mono";}
span.a0
	{mso-style-name:Маркеры;
	font-family:OpenSymbol;}
span.a1
	{mso-style-name:"Символ нумерации";}
p.a2, li.a2, div.a2
	{mso-style-name:Заголовок;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	page-break-after:avoid;
	punctuation-wrap:simple;
	font-size:14.0pt;
	font-family:"Liberation Sans",serif;}
p.a3, li.a3, div.a3
	{mso-style-name:Указатель;
	margin:0in;
	punctuation-wrap:simple;
	font-size:12.0pt;
	font-family:"Liberation Serif",sans-serif;}
p.a4, li.a4, div.a4
	{mso-style-name:"Текст в заданном формате";
	margin:0in;
	punctuation-wrap:simple;
	font-size:10.0pt;
	font-family:"Liberation Mono";}
p.a5, li.a5, div.a5
	{mso-style-name:"Содержимое таблицы";
	margin:0in;
	punctuation-wrap:simple;
	font-size:12.0pt;
	font-family:"Liberation Serif",sans-serif;}
p.a6, li.a6, div.a6
	{mso-style-name:"Заголовок таблицы";
	margin:0in;
	text-align:center;
	punctuation-wrap:simple;
	font-size:12.0pt;
	font-family:"Liberation Serif",sans-serif;
	font-weight:bold;}
.MsoChpDefault
	{font-size:12.0pt;
	font-family:"Liberation Serif",sans-serif;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:28.35pt 28.35pt 28.35pt 28.35pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link=navy vlink="#954F72" style='word-wrap:break-word'>

<div class=WordSection1>

<h1 style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;margin-left:
14.15pt;text-align:justify;text-indent:-14.15pt'><span lang=RU
style='font-size:14.0pt'>1. Ansible - Автоконфигурирование для DevOps - Полный
Курс на Простом Языке</span></h1>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>Ansible
(<span lang=RU>расшифровка)</span>   - Automation Configuration Management
Tools (<span lang=RU>система автоматизации, конфигурации и управления серверами
</span>Windows <span lang=RU>или </span>Linux, <span lang=RU>скрипт </span>YAML)</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>системы
управления конфигурациями <span lang=RU>типа </span><b>Pull</b>   - <span
lang=RU>на управляемых серверах установлен </span><b>Agent</b>, <span lang=RU>который
делает </span><b>Pull</b> <span lang=RU>настроек от </span><b>Master</b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>системы
управления конфигурациями <span lang=RU>типа </span><b>Push</b>   - <span
lang=RU>на управляемых серверах НЕ нужно устанавливать ничего (в т.ч. и </span><b>Agent</b><span
lang=RU>), </span><b>Master</b> <span lang=RU>делает </span><b>Push</b> <span
lang=RU>настроек</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>Ansible
mode   - push mode</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>Chef
mode   - pull mode</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>Puppet
mode   - pull mode</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>OS
- Ansible Control Server – Master Server   - Linux only, <span lang=RU>macOS</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>Python
version -  Ansible Control Server – Master Server   - Python 2.6-2.7+ <span
lang=RU>или </span>Python 3.5+</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>требования к </span>Linux Ansible Controlled Servers – Managed
Servers   - Admin Username/Password <span lang=RU>или </span>SSH Key <span
lang=RU>и </span>Python 2.6-2.7+</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>требования к</span> Windows Ansible Controlled Servers – Managed
Servers   - Admin Username/Password, PowerShell 3.0<span lang=RU>+</span><span
lang=RU> </span><span lang=RU>(лучше 4.0+), </span>.NET Framework 4.0+ <span
lang=RU>и запустить скрипт  </span><a name=blob-path></a><strong><span
style='font-family:"Liberation Serif",sans-serif'>ConfigureRemotingForAnsible.ps1</span></strong></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><strong><span
style='font-family:"Liberation Serif",sans-serif;font-weight:normal'>Ansible
Linux Port   - SSH Port 22</span></strong></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><strong><span
style='font-family:"Liberation Serif",sans-serif;font-weight:normal'>Ansible
Windows Port   - WinRM Port 5986</span></strong></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><strong><span
style='font-family:"Liberation Serif",sans-serif;font-weight:normal'>&nbsp;</span></strong></p>

<span lang=RU style='font-size:12.0pt;font-family:"Liberation Serif",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<h1 style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;margin-left:
14.15pt;text-align:justify;text-indent:-14.15pt'><span lang=RU
style='font-size:14.0pt'>2. Ansible - Установка на Ubuntu и CentOS</span></h1>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>sudo yum install epel-release     - установить репозиторий <b>epel</b>
в CentOS </span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>sudo yum install ansible   -  установить</span> Ansible <span lang=RU>в
CentOS</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>sudo
apt-add-repository ppa:ansible/ansible (sudo apt update)   - установить <span
lang=RU>репозиторий </span>Ansible в Ubuntu</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>sudo
apt install ansible   - установить Ansible в Ubuntu</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>ansible 
--version   - <span lang=RU>проверка, что установился </span>Ansible <span
lang=RU>(проверка версии)</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<h1 style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;margin-left:
14.15pt;text-align:justify;text-indent:-14.15pt'><span lang=RU
style='font-size:14.0pt'>&nbsp;</span></h1>

<h1 style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;margin-left:
14.15pt;text-align:justify;text-indent:-14.15pt'><span lang=RU
style='font-size:14.0pt'>&nbsp;</span></h1>

<h1 style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;margin-left:
14.15pt;text-align:justify;text-indent:-14.15pt'><span style='font-size:14.0pt'>3</span><span
lang=RU style='font-size:14.0pt'>. Ansible - Установка на Linux</span><span
lang=RU style='font-size:14.0pt'> </span><span lang=RU style='font-size:14.0pt'>через
PIP</span></h1>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU style='font-size:14.0pt'>&nbsp;</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>sudo </span>pip install ansible   - установить Ansible <span lang=RU>на
</span>Linux <span lang=RU>где есть </span>Python (<span lang=RU>не создается </span><b>config
file</b>)</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>&nbsp;</span></p>

<b><span lang=RU style='font-size:24.0pt;font-family:"Liberation Serif",sans-serif'><br
clear=all style='page-break-before:always'>
</span></b>

<h1 style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;margin-left:
14.15pt;text-align:justify;text-indent:-14.15pt'><span style='font-size:14.0pt'>&nbsp;</span></h1>

<h1 style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;margin-left:
14.15pt;text-align:justify;text-indent:-14.15pt'><span style='font-size:14.0pt'>4</span><span
lang=RU style='font-size:14.0pt'>. Ansible - Подключение к серверам LINUX</span></h1>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU style='font-size:14.0pt'>&nbsp;</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>ssh-keygen -t rsa -b 4096 -f</span><span lang=RU> </span><span lang=RU>i</span>d_rsa
<span lang=RU>-q -N &quot;&quot;</span> (папк<span lang=RU>а</span><span
lang=RU> </span><b>.ssh</b>)   <span lang=RU>- создать пару ключей для
дальнейшей авторизации к хостам по </span><b>ssh</b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>chmod
700 ~/.ssh   - <span lang=RU>установить права на директорию </span><b>~/.ssh</b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>chmod
600 ~/.ssh/id_rsa*   - <span lang=RU>установить права на приватный и публичный
ключи в директории </span><b>~/.ssh</b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>ssh-copy-id -i i</span>d_rsa<span lang=RU>.</span>pub<span lang=RU>
user@host   - скопировать публичный ключ для авторизации на удаленный хост</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>mkdir
~/ansible   - <span lang=RU>создать папку с будущим проектом </span>Ansible</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>ansible
inventory (hosts)   - <span lang=RU>это текстовый файл со списком серверов и
параметрами (к примеру </span><b>hosts.txt</b><span lang=RU>)</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>примерное базовое содержимое Ansible Inventory   - </span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>[staging_servers]</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>server1
ansible_host=172.16.0.11 ansible_user=murat
ansible_ssh_private_key_file=/home/murat/.ssh/id_rsa</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-indent:-14.15pt;line-height:normal'><span
style='font-size:4.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>[prod_servers]</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>server2
ansible_host=172.16.0.12 ansible_user=murat ansible_ssh_private_key_file=/home/murat/.ssh/id_rsa</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>server3
ansible_host=172.16.0.13 ansible_user=murat
ansible_ssh_private_key_file=/home/murat/.ssh/id_rsa</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>ansible
-i hosts.txt all -m ping   - <span lang=RU>запустить </span>Ansible c <b>inventory</b>
<span lang=RU>файлом </span><b>hosts.txt</b> (<span lang=RU>все сервера),
модуль </span><b>ping</b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>ansible.cfg  
- <span lang=RU>файл конфигурации </span>Ansible<span lang=RU>, лучше создавать
в папке проекта</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>host_key_checking
= false  (<b>ansible.cfg</b>)   -  (<b>ansible.cfg)</b> <span lang=RU>отключение
проверки ключей при подключении</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>inventory
= <i>… (</i><i><span lang=RU>путь к файлу)</span></i><span lang=RU>  </span>(<b>ansible.cfg</b>)  
-  (<b>ansible.cfg)</b> <span lang=RU>указать местоположение файла </span><b>inventory</b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>ansible
all -m ping   -  <span lang=RU>запустить </span>Ansible <span lang=RU>модуль </span><b>ping</b>
(<b>inventory</b> <span lang=RU>файл указан в </span><b>ansible.cfg</b>)</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU style='font-size:14.0pt'>---</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>/etc/ssh/sshd_config
(<span lang=RU>авторизация по ключу)   - раскомментировать строку </span>&quot;PubkeyAuthentication
yes&quot;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>/etc/ssh/sshd_config
(<span lang=RU>убрать авторизацию по паролю)    - </span>&quot;PasswordAuthentication
no&quot;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>sudo systemctl restart ssh (авторизация по ключу)   - перезапустить
службу <b>sshd</b> после редактирования файла <b>/etc/ssh/sshd_config</b></span></p>

<span lang=RU style='font-size:12.0pt;font-family:"Liberation Serif",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<h1 style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;margin-left:
14.15pt;text-align:justify;text-indent:-14.15pt'><span lang=RU
style='font-size:14.0pt'>5. Ansible - Подключение к серверам WINDOWS</span></h1>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU style='font-size:14.0pt'>&nbsp;</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b>pywinrm</b><span
lang=RU> позволяет...   </span>-<span lang=RU> ...</span>Ansible
взаимодействовать с сервисом <b>WinRM</b> на Windows</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>sudo
pip install &quot;pywinrm&gt;=0.2.2&quot;   - <span lang=RU>установить <b>pywinrm</b>
на </span><b>ansible master</b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>как с </span>Windows Server <span lang=RU>выходить в интернет
(первоначальная настройка)   - </span>1) <span lang=RU>Диспетчер серверов &gt;
Локальный сервер &gt; Конфигурация усиленной безопасности Internet Explorer
&gt; Отключить оба &gt; Применить;</span>   2) <span lang=RU>при первом запуске
Internet Explorer &gt; «Не использовать рекомендуемые параметры»</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>разблокировка файла </span><b>ps1</b> <span lang=RU>для запуска   - в
свойствах скрипта</span><span lang=RU> </span><b>ps1</b> <span lang=RU>поставить
галочку &quot;Разблокировать&quot;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>ConfigureRemotingForAnsible.ps1   - скрипт, который необходимо скачать
и запустить от имени администратора на </span>Windows <span lang=RU>серверах,
для возможности подключения к ним</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>примерное содержимое Ansible Inventory (подключение к серверам </span>Windows<span
lang=RU>)  - </span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>[windows_servers]</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>windows
ansible_host=94.139.242.68</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>windows
ansible_host=94.139.242.6</span><span lang=RU style='font-size:10.0pt;
font-family:"Liberation Mono"'>9</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-indent:-14.15pt;line-height:normal'><span
style='font-size:4.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>[windows_servers:vars]</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>ansible_user =
CloudAdmin</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>ansible_port = 5986</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>a</span><span lang=RU
style='font-size:10.0pt;font-family:"Liberation Mono"'>nsible_</span><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>connection </span><span
lang=RU style='font-size:10.0pt;font-family:"Liberation Mono"'>=</span><span
style='font-size:10.0pt;font-family:"Liberation Mono"'> winrm</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-indent:-14.15pt;line-height:normal'><span lang=RU
style='font-size:10.0pt;font-family:"Liberation Mono"'>ansible_</span><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>winrm_server_cert_validation
= ignore</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>ansible
windows_servers -m win_ping --ask-pass   - <span lang=RU>запустить </span>Ansible
<span lang=RU>модуль </span><b>win_ping</b> (<b>inventory</b> <span lang=RU>файл
указан в </span><b>ansible.cfg</b>) <span lang=RU>с запросом пароля
сервера(-ов) для группы серверов  </span><b>windows_servers</b></p>

<span lang=RU style='font-size:12.0pt;font-family:"Liberation Serif",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<h1 style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;margin-left:
14.15pt;text-align:justify;text-indent:-14.15pt'><span style='font-size:14.0pt'>6</span><span
lang=RU style='font-size:14.0pt'>. Ansible - Правила создания файла Inventory</span></h1>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU style='font-size:14.0pt'>&nbsp;</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>(</span><b>ansible inventory</b>) <span lang=RU>можно прописывать
сервера без группы (пример)   - 192.168.1.100 </span>(<span lang=RU>сверху</span>)</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>(</span><b>ansible inventory</b>) <span lang=RU>можно прописывать
просто </span>IP <span lang=RU>адреса серверов (пример)   - 192.168.1.101 </span>(<span
lang=RU>сверху</span>)</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>(</span><b>ansible inventory</b>) <span lang=RU>можно прописывать
просто доменные имена (пример)   - </span>server1 (<span lang=RU>сверху</span>)</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>(</span><b>ansible inventory</b>) <span lang=RU>можно давать свое имя
серверам</span> (<span lang=RU>пример)</span>   <span lang=RU>- </span>myserver
ansible_host=192.168.1.102</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>(</span><b>ansible inventory</b>)<span lang=RU> группа, которой
принадлежат все сервера по умолчанию   - </span>all</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>(</span><b>ansible inventory</b>)<span lang=RU> группа, которой
принадлежат все сервера без указания групп   - ungrouped</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>(</span><b>ansible inventory</b>)<span lang=RU> создать группу </span><b>staging_DB</b><span
lang=RU> и прописать просто</span> IP<span lang=RU> адреса <b>192.168.1.1</b>, <b>192.168.1.2</b>
  </span>-</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>[staging_DB]</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>192.168.1.1</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>192.168.1.2</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>(</span><b>ansible inventory</b>)<span lang=RU> создать группу </span><b>staging_ALL</b>,
<span lang=RU>которой принадлежат группы: </span><b>staging_DB</b>, <b>staging_WEB</b>,
<b>staging_APP</b>   -</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>[staging_ALL:children]</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>staging_DB</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>staging_WEB</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>staging_APP</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>(</span><b>ansible inventory</b>)<span lang=RU> вынести повторяющиеся
переменные внутри </span><b>inventory</b> <span lang=RU>файла</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>[prod_servers]</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>srv1 ansible_host</span><span
lang=RU style='font-size:10.0pt;font-family:"Liberation Mono"'>=</span><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>10.0.0.1 ansible_user=m
ansible_ssh_private_key_file=/home/m/.ssh/m.key</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>srv2 ansible_host</span><span
lang=RU style='font-size:10.0pt;font-family:"Liberation Mono"'>=</span><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>10.0.0.2 ansible_user=m
ansible_ssh_private_key_file=/home/m/.ssh/m.key</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU>&lt;&lt;ОТВЕТ&gt;&gt;</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>[prod_servers]</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>srv1 ansible_host</span><span
lang=RU style='font-size:10.0pt;font-family:"Liberation Mono"'>=</span><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>10.0.0.1</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>srv2 ansible_host</span><span
lang=RU style='font-size:10.0pt;font-family:"Liberation Mono"'>=</span><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>10.0.0.2</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:2.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>[prod_servers:vars]</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>ansible_user=m</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>ansible_ssh_private_key_file=/home/m/.ssh/m.key</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>ansible-inventory
--list   - <span lang=RU>вывести всю информацию о </span><b>inventory</b> <span
lang=RU>хостах </span>(<span lang=RU>сервера, группы, переменные…</span>)</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>ansible-inventory
--graph   -  <span lang=RU>вывести информацию о </span><b>inventory</b> <span
lang=RU>хостах в виде дерева</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<span lang=RU style='font-size:12.0pt;font-family:"Liberation Serif",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<h1 style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;margin-left:
14.15pt;text-align:justify;text-indent:-14.15pt'><span lang=RU
style='font-size:14.0pt'>7. Ansible - Запуск Ad-Hoc Команд</span></h1>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU style='font-size:14.0pt'>&nbsp;</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>Ad-hoc команды </span>Ansible   - это возможность запустить какое-то
действие Ansible из командной строки</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>ansible
staging_servers -m setup   - <span lang=RU>(</span><b>ansible)</b> <span
lang=RU>вывести параметры серверов группы </span><b>staging_servers</b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>ansible
all -m shell -a &quot;uptime&quot;   - <span lang=RU>(</span><b>ansible)</b> <span
lang=RU>посмотреть сколько времени прошло с момента запуска каждого сервера</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>ansible
all -m shell -a &quot;ls /home&quot;   - <span lang=RU>(</span><b>ansible)</b> <span
lang=RU>посмотреть содержимое домашней папки каждого сервера</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>(</span><b>ansible)</b> <span lang=RU>разница между модулями </span><b>shell</b>
<span lang=RU>и </span><b>command</b>   - <span lang=RU>(</span><b>ansible) </b><span
lang=RU>м</span>одули <b>command</b> и <b>shell</b> отличаются тем, что в
модуле <b>command</b> команда выполняется без прохождения через оболочку <b>/bin/sh</b>.
Поэтому переменные определенные в оболочке <span lang=RU>(например, <b>$HOME</b>)
</span>и перенаправления-конвееры <span lang=RU>(например, </span>&quot;<b>&lt;</b>&quot;,
&quot;<b>&gt;</b>&quot;, &quot;<b>|</b>&quot;, &quot;<b>;</b>&quot; <span
lang=RU>и</span> &quot;<b>&amp;</b>&quot;) работать не будут</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>echo
Privet &gt; privet.txt   - <span lang=RU>записать текст &quot;</span><b>Privet</b>&quot;
<span lang=RU>в новый файл </span><b>privet.txt</b> <span lang=RU>с перезаписью</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>sudo visudo   - редактирование файла <b>/</b></span><b>etc/<span
lang=RU>sudoers</span></b><span lang=RU> с проверкой синтаксиса при его
сохранении</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>(<b>ansible)</b> отключить пароль sudo</span> дл<span lang=RU>я
пользователя</span>  <span lang=RU>- (<b>ansible)</b> в конце <b>/etc/sudoers</b>
на хостах прописать </span><span lang=RU style='font-size:10.0pt;font-family:
"Liberation Mono"'>username ALL=(ALL) NOPASSWD:ALL</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>(<b>ansible)</b> ключи <b>-</b></span><b>b</b>, <b>--become</b>   - <span
lang=RU>(</span><b>ansible)</b> <span lang=RU>ключи для выполнения команды с
правами администратора</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>ansible all -m copy -a &quot;src=privet.txt dest=/home mode=777&quot;
-b   - </span><b>(ansible)</b> <span lang=RU>скопировать файл </span><b>privet.txt</b>
<span lang=RU>в папку <b>/</b></span><b>home</b> <span lang=RU>на всех серверах
с правами <b>777</b></span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>ansible
all -m shell -a &quot;ls -la /home&quot;   - <b>(ansible)</b><span lang=RU>
посмотреть содержимое папки <b>/</b></span><b>home</b> <span lang=RU>на всех
серверах</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>ansible all -m file -a &quot;path=/home/privet.txt state=absent&quot;
-b   - </span><b>(ansible)</b><span lang=RU> удалить файл <b>privet.txt</b> из
папки <b>/</b></span><b>home</b> <span lang=RU>на всех серверах</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>ansible all -m get_url -a
&quot;url=https://collectors.sumologic.com/rest/download/linux/64
dest=/home&quot; -b   - </span><b>(ansible)</b><span lang=RU> скачать с
интернета по определенной ссылке файл и разместить на всех серверах</span><span
lang=RU> </span><span lang=RU>в <b>/</b></span><b>home</b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>ansible all -m apt -a &quot;name=stress state=latest&quot; -b   - </span><b>(ansible)</b><span
lang=RU> установить на всех серверах утилиту <b>stress</b></span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>ansible all -m apt -a &quot;name=stress state=absent&quot; -b   - </span><b>(ansible)</b><span
lang=RU> удалить на всех серверах утилиту</span><span lang=RU> </span><b><span
lang=RU>stress</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>ansible all -m uri -a &quot;url=http://www.adv-it.net&quot;   - </span><b>(ansible)</b><span
lang=RU> проверить на каждом сервере возможность подключения к </span>web <span
lang=RU>адресу <b>http://www.adv-it.net</b></span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>ansible all -m uri -a &quot;url=http://www.adv-it.net</span>
return_content=yes&quot;  <span lang=RU>- </span><b>(ansible)</b><span lang=RU>
проверить на каждом сервере возможность подключения к </span>web <span lang=RU>адресу
<b>http://www.adv-it.net</b> и вернуть содержимое (контент)</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>различие между Apache и HTTPD    - основное различие между Apache и HTTPD
заключается в том, что Apache представляет собой полный веб-сервер с широким
спектром функциональных возможностей и модулей, в то время как HTTPD — это
только один компонент Apache, который осуществляет функцию веб-сервера</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>ansible
server4 -m apt -a &quot;name=apache2&quot; -b   - <b>(ansible)</b><span
lang=RU> установить на </span><b>server4</b> <span lang=RU>веб-сервер </span><b>Apache</b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>ansible server4 -m service -a &quot;name=apache2 state=started
enabled=yes&quot; -b   - </span><b>(ansible)</b><span lang=RU> запустить на </span><b>server4</b>
<span lang=RU>сервис веб-сервера </span><b>Apache</b> <span lang=RU>и добавить
его в автозагрузку</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>ansible server4 -m shell -a &quot;ufw allow Apache&quot; -b   - </span><b>(ansible)</b><span
lang=RU> открыть на </span><b>server4</b> <span lang=RU>порт 80 для </span><b>Apache</b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>curl
172.16.0.14   - <b><span lang=RU>(терминал)</span></b><span lang=RU> загрузить
содержимое веб-страницы с адреса </span>172.16.0.14</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>ansible
server4 -m ping -vvv   - <b>(ansible)</b><span lang=RU> пингануть </span><b>server4</b>
<span lang=RU>с выводом отладочной информации, можно использовать от одной <b>-</b></span><b>v</b>
<span lang=RU>до шести <b>-</b></span><b>vvvvvv</b>, <span lang=RU>чем больше </span><b>v</b>,
<span lang=RU>тем больше отладочной информации</span>, <span lang=RU>в основном
пользуются тремя <b>-</b></span><b>vvv</b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>ansible-doc
-l   - <span lang=RU>вывести все модули, которые есть в </span><b>ansible</b></p>

<span lang=RU style='font-size:12.0pt;font-family:"Liberation Serif",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<h1 style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;margin-left:
14.15pt;text-align:justify;text-indent:-14.15pt'><span lang=RU
style='font-size:14.0pt'>8. Ansible - Правила Формата YAML</span></h1>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU style='font-size:14.0pt'>&nbsp;</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>YAML – …    - … это язык, спроектированный для хранения информации в
доступном для понимания человеком формате</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>*.</span>yml,<span lang=RU> *.</span>yaml<span lang=RU>   </span>- <span
lang=RU>формат файлов </span>YAML</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b>(yaml)</b> 
<span lang=RU>---</span>      <span lang=RU>- документы </span>YAML <span
lang=RU>можно разделять этими символами, т.е. можно сгруппировать несколько
YAML-документов в одном файле</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b>(yaml)</b>
<span lang=RU>пример м</span>ногострочн<span lang=RU>ого</span><span lang=RU> </span><span
lang=RU>списка (фрукты)   </span>- </p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>fruits_multiline:</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-indent:-14.15pt'><span lang=RU style='font-size:10.0pt;
font-family:"Liberation Mono"'>- apple</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-indent:-14.15pt'><span lang=RU style='font-size:10.0pt;
font-family:"Liberation Mono"'>- banana</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-indent:-14.15pt'><span lang=RU style='font-size:10.0pt;
font-family:"Liberation Mono"'>- orange</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b>(yaml)</b>
<span lang=RU>пример о</span>днострочн<span lang=RU>ого</span><span lang=RU> </span><span
lang=RU>списка (фрукты)   </span>-</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>fruits_oneline: [apple,
banana, orange, grape, pineapple]</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU>(</span></b><b>yaml)</b> <span lang=RU>п</span>ример использования <span
lang=RU>м</span>ногострочн<span lang=RU>ого </span>словаря для описания
персоны   -</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>person:</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>  name: Murat</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>  age: 36</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>  is_student: false</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU>(</span></b><b>yaml)</b> <span lang=RU>п</span>ример использования о<span
lang=RU>днострочного </span>словаря для описания персоны   -</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>person: {name: Murat,
age: 36, is_student: false}</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU>(</span></b><b>yaml)</b> <span lang=RU>п</span>ример использования<span
lang=RU> якоря, шаблона </span>для описания <span lang=RU>двух серверов по
шаблону</span>   -</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>server_template:
&amp;server</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>  name: Example Server</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>  cpu: 4 cores</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>  memory: 8 GB</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>server1:</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>  &lt;&lt;: *server</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>  ip: 192.168.1.101</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>server2:</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>  &lt;&lt;: *server</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>  ip: 192.168.1.102</span></p>

<span lang=RU style='font-size:12.0pt;font-family:"Liberation Serif",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<h1 style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;margin-left:
14.15pt;text-align:justify;text-indent:-14.15pt'><span style='font-size:14.0pt'>9</span><span
lang=RU style='font-size:14.0pt'>. Ansible - Перенос переменных в group_vars</span></h1>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU style='font-size:14.0pt'>&nbsp;</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>(</span><b>ansible inventory</b>)<span lang=RU> создать в </span><b>inventory</b>
<span lang=RU>файле две группы </span><span style='font-size:10.0pt'>STAGING_SERVERS_DB</span>
<span lang=RU>и </span><span style='font-size:10.0pt'>PROD_SERVERS_DB</span> <span
lang=RU>с прописанными только </span>IP-<span lang=RU>адресами серверов,
объединить обе группы в общую группу </span><span style='font-size:10.0pt'>ALL_SERVERS_DB</span>
<span lang=RU>и общей группе присвоить общие переменные (пример)   -</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:2.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>...</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>[STAGING_SERVERS_DB]</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>172.16.0.1</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>172.16.0.2</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>[PROD_SERVERS_DB]</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>172.16.0.10</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>172.16.0.11</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>[ALL_SERVERS_DB:children]</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>STAGING_SERVERS_DB</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>PROD_SERVERS_DB</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:10.0pt;font-family:"Liberation Mono"'>[ALL_SERVERS_DB:</span><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>vars]</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>db_endpoint=xxxxx.yyyyy.com:4151</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>owner=vasya</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>location=&quot;Huston,TX&quot;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>...</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>mkdir
group_vars   - <span lang=RU>создать директорию для выноса переменных из </span><b>ansible
inventory</b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>правила выноса переменных из </span><b>ansible inventory</b>   - <span
lang=RU>каждую группу с переменными выносим в отдельный файл с одноименным
названием, меняем &quot;<b>=&quot;</b> на &quot;<b>:&quot;</b></span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<span lang=RU style='font-size:12.0pt;font-family:"Liberation Serif",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>&nbsp;</span></p>

<h1 style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;margin-left:
14.15pt;text-align:justify;text-indent:-14.15pt'><span lang=RU
style='font-size:14.0pt'>10. Ansible - Первые Playbook</span></h1>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU style='font-size:14.0pt'>стр.1</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU style='font-size:14.0pt'>&nbsp;</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>ansible
playbooks - …   - ... <b>(ansible)</b> <span lang=RU>это сценарий, описывающий
действия, которые нужно выполнить на управляемых хостах </span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>nano
playbook1.yml   - <span lang=RU>создать файл </span><b>ansible playbook</b> (<span
lang=RU>пример)</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>playbook1.yml
(<span lang=RU>примерное содержимое </span><b>ansible playbook</b> – <span
lang=RU>пингануть все сервера</span>)<span lang=RU>   -</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>---</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>- name: Test Connection
to my servers</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>  hosts: all</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>  become: yes</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>  tasks:</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>  - name: Ping my servers</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>    ping:</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'> ansible-playbook
playbook1.yml   - <span lang=RU>запустить </span><b>ansible playbook</b>
(playbook1.yml)</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>ansible-playbook
playbook1.yml   (<span lang=RU>вывод результата -</span><span lang=RU> </span><span
lang=RU>пинг серверов </span><b>server1</b> <span lang=RU>и </span><b>server2</b><span
lang=RU>)   -</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>PLAY [Test Connection to
my servers] **************************************************************</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>TASK [Gathering Facts] ****************************************************************************</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>ok: [server2]</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>ok: [server1]</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>TASK [Ping my servers]
****************************************************************************</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>ok: [server2]</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>ok: [server1]</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>PLAY RECAP ****************************************************************************************</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>server1     : ok=2   
changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>server2     : ok=2   
changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<span lang=RU style='font-size:12.0pt;font-family:"Liberation Serif",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<h1 style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;margin-left:
14.15pt;text-align:justify;text-indent:-14.15pt'><span lang=RU
style='font-size:14.0pt'>10. Ansible - Первые Playbook</span></h1>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU style='font-size:14.0pt'>стр.2</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU style='font-size:14.0pt'>&nbsp;</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>ansible </span>all <span lang=RU>-</span>m ping<span lang=RU>   (вывод
результата - пинг серверов <b>server1</b> и <b>server2</b>)   -</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>server1 | SUCCESS =&gt; {</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>   
&quot;ansible_facts&quot;: {</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>        &quot;discovered_interpreter_python&quot;:
&quot;/usr/bin/python3&quot;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>    },</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>    &quot;changed&quot;:
false,</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>    &quot;ping&quot;:
&quot;pong&quot;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>}</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>server2 | SUCCESS =&gt; {</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>   
&quot;ansible_facts&quot;: {</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>       
&quot;discovered_interpreter_python&quot;: &quot;/usr/bin/python3&quot;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>    },</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>    &quot;changed&quot;:
false,</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>    &quot;ping&quot;: &quot;pong&quot;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>}</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>playbook2.yml 
 (<span lang=RU>примерное содержимое </span><b>ansible playbook</b><span
lang=RU> - установка и настройка</span> Apache<span lang=RU> на <b>server4</b>)  
-</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>---</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>- name: Install default
Apache Web Server</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>  hosts: server4</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>  become: yes</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>  tasks:</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>  - name: Install Apache
Web Server</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>    apt: name=apache2
state=latest</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>  - name: Open Web Server
ports</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>    shell: ufw allow
Apache</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>  - name: Start Apache
and Enable it on the every boot</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>    service: name=apache2
state=started enabled=yes</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<span lang=RU style='font-size:12.0pt;font-family:"Liberation Serif",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<h1 style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;margin-left:
14.15pt;text-align:justify;text-indent:-14.15pt'><span lang=RU
style='font-size:14.0pt'>10. Ansible - Первые Playbook</span></h1>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU style='font-size:14.0pt'>стр.3</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU style='font-size:14.0pt'>&nbsp;</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>playbook3.yml 
 (<span lang=RU>примерное содержимое </span><b>ansible playbook</b> -<span
lang=RU> установка и настройка</span> Apache,<span lang=RU> обновление
содержимого сайта на <b>server4</b> с использованием переменных, перезапуском
сервиса </span>Apache <span lang=RU>только при изменении содержимого сайта)   -</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>---</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>- name: Install
Apache and Upload my Web Page</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  hosts: server4</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  become: yes</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  vars:</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>    source_file:
./MyWebSite/index.html</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>    destin_file:
/var/www/html</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  tasks:</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  - name: Install
Apache Web Server</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>    apt:
name=apache2 state=latest</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  - name: Open
Web Server ports</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>    shell: ufw
allow Apache</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  - name: Copy
MyHomePage to Servers</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>    copy: src={{
source_file }} dest={{ destin_file }} mode=0555</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>    notify:
Restart Apache</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  - name: Start
WebServer and make it enable on boot</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>    service:
name=apache2 state=started enabled=yes</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  handlers:</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  - name: Restart
Apache</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>    service:
name=apache2 state=restarted</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<span lang=RU style='font-size:12.0pt;font-family:"Liberation Serif",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<h1 style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;margin-left:
14.15pt;text-align:justify;text-indent:-14.15pt'><span lang=RU
style='font-size:14.0pt'>11. Ansible - Переменные - Debug, Set_fact, Register</span></h1>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU style='font-size:14.0pt'>Задача:</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>playbook4.yml 
 (<span lang=RU>примерное содержимое </span><b>ansible playbook</b><span
lang=RU>):</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:.5in;text-align:justify;text-indent:-.25in;line-height:normal'><span
lang=RU style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=RU>определить переменные <b>message1: Privet</b>,    <b>message2:
World</b>,   <b>secret: JKGHHGFDHJHKDHKJDKJHDKJ</b>,</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:.5in;text-align:justify;text-indent:-.25in;line-height:normal'><span
lang=RU style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=RU>вывести переменную <b>secret</b>,</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:.5in;text-align:justify;text-indent:-.25in;line-height:normal'><span
lang=RU style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=RU>вывести сообщение с переменной <b>secret</b>,</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:.5in;text-align:justify;text-indent:-.25in;line-height:normal'><span
lang=RU style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=RU>вывести сообщение с заранее прописаной в </span><b>ansible
inventory</b> <span lang=RU>переменной </span><b>owner</b> <span lang=RU>у
каждого сервера</span>,</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:.5in;text-align:justify;text-indent:-.25in;line-height:normal'><span
lang=RU style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=RU>создать новую переменную на лету <b>full_message</b>
с использованием переменных </span><b>message1</b>, <b>message2</b> <span
lang=RU>и </span><b>owner</b>,</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:.5in;text-align:justify;text-indent:-.25in;line-height:normal'><span
lang=RU style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=RU>вывести переменную <b>full_message</b>,</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:.5in;text-align:justify;text-indent:-.25in;line-height:normal'><span
lang=RU style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=RU>вывести <b>ansible_distribution</b> из собранной
информации о серверах <b>[Gathering Facts]</b>,</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:.5in;text-align:justify;text-indent:-.25in;line-height:normal'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=RU>узнать как долго работают сервера и записать в
переменную <b>results</b>,</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:.5in;text-align:justify;text-indent:-.25in;line-height:normal'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=RU>вывести свойство <b>stdout</b> из объекта <b>results</b></span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<span lang=RU style='font-size:12.0pt;font-family:"Liberation Serif",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<h1 style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;margin-left:
14.15pt;text-align:justify;text-indent:-14.15pt'><span lang=RU
style='font-size:14.0pt'>11. Ansible - Переменные - Debug, Set_fact, Register</span></h1>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU style='font-size:14.0pt'>Ответ:</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU style='font-size:14.0pt'>&nbsp;</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU style='font-size:14.0pt'>&nbsp;</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>---</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>- name: My Super
Puper Playbook for Variables Lesson</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  hosts: all</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  become: yes</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  vars:</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>    message1:
Privet</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>    message2:
World</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>    secret  :
JKGHHGFDHJHKDHKJDKJHDKJ</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  tasks:</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  - name: Print
Secret variable</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>    debug:</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>      var: secret</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  - debug:</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>      msg:
&quot;Sekretnoe slovo: {{ secret }}&quot;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  - debug:</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>      msg: &quot;Vladelec
Etogo Servera --&gt;{{ owner }}&lt;--&quot;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  - set_fact:
full_message=&quot;{{ message1 }} {{ message2 }} from {{ owner }}&quot;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  - debug:</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>      var:
full_message</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  - debug:</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>      var:
ansible_distribution</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  - shell: uptime</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>    register:
results</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  - debug:</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>      var:
results.stdout</span></p>

<span lang=RU style='font-size:12.0pt;font-family:"Liberation Serif",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>&nbsp;</span></p>

<h1 style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;margin-left:
14.15pt;text-align:justify;text-indent:-14.15pt'><span lang=RU
style='font-size:14.0pt'>12. Ansible - Блоки и Условия – Block-When</span></h1>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU style='font-size:13.0pt'>стр.1</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>nmtui  
- <span lang=RU>программа настройка сети из консоли </span>(Network Manager
Text User Interface)</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>данная
опция <span lang=RU>в </span><b>ansible.cfg</b> указывает, чтобы <b>ansible</b>
автоматически искал <b>python</b> на целевом хосте без показа предупреждений <span
lang=RU>(к примеру, чтобы не высвечивалось предупреждение при установке
приложения на </span><b>Oracle Linux</b>)   -</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:4.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:10.0pt;font-family:"Liberation Mono"'>[defaults]</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:10.0pt;font-family:"Liberation Mono"'>...</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:10.0pt;font-family:"Liberation Mono"'>interpreter_python
= auto_silent</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:10.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:10.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>в </span><b>ansible-playbook</b> <span lang=RU>создать задачу:
установить </span><b>apache2</b>, <span lang=RU>если на сервере тип</span><span
lang=RU> </span><b>OS Debian</b>   -</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:4.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>  - name: Install Apache
Web Server for Debian</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>    apt: name=apache2
state=latest</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>    when:
ansible_os_family == &quot;Debian&quot;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:10.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:10.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>playbook5.yml 
 (<span lang=RU>примерное содержимое </span><b>ansible playbook</b> -<span
lang=RU> установка и настройка</span> Apache,<span lang=RU> обновление
содержимого сайта в группе из двух серверов <b>other_servers </b>(один</span>
Ubuntu,<span lang=RU> другой</span> Oracle Linux) <span lang=RU>с
использованием переменных, перезапуском сервиса </span>Apache <span lang=RU>только
при изменении содержимого сайта, использовать <b>Block-When</b>)   -</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>---</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>- name: Install
Apache and Upload my Web Page</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  hosts:
other_servers</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  become: yes</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:5.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:5.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  vars:</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>    source_file:
../MyWebSite/index.html</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>    destin_file:
/var/www/html</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:5.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  tasks:</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  - name: Check
and print LINUX Version</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>    debug: var=ansible_os_family</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:6.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:6.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:16.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU style='font-size:16.0pt;font-family:"Liberation Mono"'>…</span></b><span
lang=RU><br clear=all style='page-break-before:always'>
</span></p>

<h1 style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;margin-left:
14.15pt;text-align:justify;text-indent:-14.15pt'><span lang=RU
style='font-size:14.0pt'>12. Ansible - Блоки и Условия – Block-When</span></h1>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU style='font-size:13.0pt'>стр.2</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU style='font-size:16.0pt;font-family:"Liberation Mono"'>…</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:5.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  - block:   #
==== Block for DEBIAN ====</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:5.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>      - name:
Install Apache Web Server for Debian</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>        apt:
name=apache2 state=latest</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:5.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>      - name:
Open Web Server ports for Debian</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>        shell:
ufw allow Apache</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:5.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>      - name:
Copy MyHomePage to Servers</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>        copy:
src={{ source_file }} dest={{ destin_file }} mode=0555</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>        notify:
Restart Apache Debian</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:5.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>      - name:
Start WebServer and make it enable on boot for Debian</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>        service:
name=apache2 state=started enabled=yes</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:5.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>    when:
ansible_os_family == &quot;Debian&quot;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:5.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:5.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  - block:   #
==== Block for REDHAT ====</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:5.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>      - name:
Install Apache Web Server for RedHat</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>        yum:
name=httpd state=latest</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:5.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>      - name:
Open Web Server ports for RedHat</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>        shell:
firewall-cmd --add-service=http --permanent</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:5.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>      - name:
Apply Open ports for RedHat</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>        shell:
firewall-cmd --reload</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:5.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>      - name:
Copy MyHomePage to Servers</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>        copy:
src={{ source_file }} dest={{ destin_file }} mode=0555</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>        notify:
Restart Apache RedHat</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:5.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>      - name:
Start WebServer and make it enable on boot for RedHat</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>        service:
name=httpd state=started enabled=yes</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:5.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>    when:
ansible_os_family == &quot;RedHat&quot;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:5.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:5.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  handlers:</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  - name: Restart
Apache Debian</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>    service:
name=apache2 state=restarted</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:5.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>  - name: Restart
Apache RedHat</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:9.0pt;font-family:"Liberation Mono"'>    service:
name=httpd state=restarted</span><span lang=RU><br clear=all style='page-break-before:
always'>
</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU style='font-size:14.0pt'>13-Ansible - Циклы – Loop, With_Items, Until,
With_fileglob</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><b><span
lang=RU style='font-size:14.0pt'>&nbsp;</span></b></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>создать задачу в </span><b>ansible-playbook</b>, <span lang=RU>которая
отправляет следующие сообщения с помощью </span><b>loop</b> (<b>with_items</b>):
&quot;Hello Vasya&quot;, &quot;Hello Petya&quot;, &quot;Hello Masha&quot;,
&quot;Hello Olya&quot;   -</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>  tasks:</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>  - name: Say Hello to
ALL</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>    debug:
msg=&quot;Hello {{ item }}&quot;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>    # ans vers &gt;= 2.5
= &quot;loop&quot; and &quot;with_items&quot;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>    # ans vers &lt; 2.5
= only &quot;with_items&quot;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>    with_items:</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>        -
&quot;Vasya&quot;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>        -
&quot;Petya&quot;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>        -
&quot;Masha&quot;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>        -
&quot;Olya&quot;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>создать </span>2 <span lang=RU>задачи в </span><b>ansible-playbook</b>,
<span lang=RU>первая будет записывать на серверах букву </span>&quot;<b>Z</b>&quot;
<span lang=RU>без переноса на новую строку в файл </span><b>myfile.txt</b> <span
lang=RU>и выводить содержимое этого файла на экран несколько раз, регистрируя
вывод в переменную </span><b>output</b>, <span lang=RU>с задержкой в 2 секунды,
максимальным количеством повторений 10 (без указания этого количества по
умолчанию равно </span>3<span lang=RU>), пока вывод из переменной </span><b>output</b>
<span lang=RU>не равен </span>&quot;<b>ZZZZ</b>&quot;, <span lang=RU>а во
второй задаче вывести значение вывода из переменной </span><b>output</b>   -</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>  - name: Loop Until
example</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>    shell: echo -n Z
&gt;&gt; myfile.txt &amp;&amp; cat myfile.txt</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>    register: output</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>    delay: 2</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>    retries: 10</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>    until: output.stdout.find(&quot;ZZZZ&quot;)
== false</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>  - name: Print Final
Output</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>    debug:</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>      var: output.stdout</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<span lang=RU style='font-size:12.0pt;font-family:"Liberation Serif",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU style='font-size:10.0pt;font-family:"Liberation Mono"'>&nbsp;</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
lang=RU>создать задачу в </span><b>ansible-playbook</b>, <span lang=RU>которая </span>у<span
lang=RU>станавливает следующие пакеты на сервер</span> RedHat<span lang=RU> с
помощью </span><b>loop</b> (<b>with_items</b>): &quot;mc&quot;,
&quot;three&quot;, &quot;git&quot;   -</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>  - name: Install many
packaged</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>    yum: name={{ item }}
state=installed</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>    loop:</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>        - mc</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>        - tree</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'><span
style='font-size:10.0pt;font-family:"Liberation Mono"'>        - git</span></p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

<p class=MsoBodyText style='margin-top:0in;margin-right:0in;margin-bottom:7.1pt;
margin-left:14.15pt;text-align:justify;text-indent:-14.15pt;line-height:normal'>&nbsp;</p>

</div>

</body>

</html>
